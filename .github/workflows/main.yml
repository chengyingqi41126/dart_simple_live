name: Build & Publish Release APK

on:
push:
tags:
- '*'

jobs:
build:
runs-on: ubuntu-latest
steps:
- name: Checkout code
uses: actions/checkout@v2

- name: Setup JDK
uses: actions/setup-java@v1
with:
java-version: 11

- name: Make Gradle executable
run: chmod +x ./gradlew

- name: Build Release APK
run: ./gradlew assembleRelease

- name: Upload APK to Release
uses: actions/upload-artifact@v2
with:
name: release-apk
path: app/build/outputs/apk/release/*.apk
